---
title: C#教程[1] 简介
date: 2021-11-23 
tags: 
  - c#
categories:
  - 电子电路社
  - c#教程
cover: https://s6.jpg.cm/2021/11/28/LLO4yG.jpg
---

# 前言

本系列教程是为了我在学校社团课使用而随手写的，我尽量在阅读起来简单起见的情况下保证严谨一些，但可能仍有很多随意或不严谨的地方，更严谨的说法/定义请去各类维基阅读。

因为高一学校的信息课会学习 `python`，因此默认读者有简单的 `python` 基础，故常常会与 `python` 的语法进行比较而且基础语法可能会讲的稍微快一些。

# 简介

> C#是微软推出的一种基于.NET框架的、面向对象的高级编程语言。C#是一种由C和C++派生出来的面向对象的编程语言。它在继承C和C++强大功能的同时去掉了一些它们的复杂特性，使其成为C语言家族中的一种高效强大的编程语言。C#以.NET框架类库作为基础，拥有类似Visual Basic的快速开发能力。C#由安德斯·海尔斯伯格主持开发，微软在2000年发布了这种语言，希望借助这种语言来取代Java。[^1]

---

# 第一个 `C#` 程序

各位同学在课内学习过一点 `python` 程序设计语言。这是一个能打印出“Hello”的 `python` 程序：

```python
print("hello world")
```

在真正上手写C#之前，我们先来看一个能实现同样功能的C#程序，来大致了解一下C#语言是怎样的：（代码中的 `//` 表示单行注释）：

```csharp
using System;

namespace ConsoleApp // ConsoleApp命名空间(namespace)
{
    class Program // Program类(class)
    {
        static void Main(string[] args) // Main函数
        {
            Console.WriteLine("Hello World!"); // 输出语句
        }
    }
}
```

## 程序结构

显然：
- 比起功能相同的 `python` 程序，内容多多了

- 不过其实，真正进行“打印文字”这一操作的代码也是只有那一行

- 代码似乎被大括号分成了很多块

{% note info flat %}
`//` 代表开始单行注释，`//` 之后的内容是解释代码意思的文字而与程序的运行无关
{% endnote %}

大括号的包含关系是 `C#` 的一个特点。这里有一个命名空间（`namespace`），里面包着一个类（`class`），类里面包着一个“主函数”（`Main`），主函数里装着我们真正的打印文字的代码。

作为初学者，各位暂时不需要关注什么是函数、类、命名空间，把它当作模板照着写就好了

举个例子来说，就像这样：

```中文
学校 南开中学 {
 学生 小明 {
  自己的 铅笔盒 (很大) {
   铅笔
   橡皮
  }
 }
}
```

你可能想直接描述小明的铅笔盒里有什么，但是C#里就得一笔带过地稍微描述下小明这人和它的学校。

之所以这么麻烦，是因为微软规定，代码必须得被包含在函数里，函数必须得被包含在类里，类又必须得被包含在命名空间里…所以咱的代码就给包成了个三明治，不像 `python` 直接开始写就行。

{% note warning flat %}

不要把单词拼错（英语不好的同学可能有些困难，但是请尽量），拼错单词英语考试里会没分，`C#` 里会编译失败

`C#` 代码是区分大小写的！请注意各个单词的大小写，大小写搞错也会导致编译错误。一般来说`namespace`, `class`等“关键字”是全小写，其余是各单词首字母大写。

{% endnote %}

大家可能会觉得，这样比功能相同的 `python` 代码要繁琐很多，这样的设计看似没有必要，但实际上在大型的项目里能展现出它的优势

不过还是那句话，外面的包装是我们初学者不需太关心的
大家目前只需要注意一下`Main` 函数里的内容, 我们的程序总会从 `Main` 函数开始执行。

所以我们来集中精力看这一行实际干活的代码。

 在语句 `Console.WriteLine("Hello World!");` 中, `Console`也是一个类，而 `WriteLine()` 则为 `Console` 类中的一个函数，中间的 `.` 表示访问 `Console` 类中的成员[^2]，此处访问的即为该类中的 `WriteLine()` 函数。

 函数的后面必须有括号，即使它没有参数。

因为我们目前只看主函数部分，所以以后会将上面那段代码写成如下的形式[^3]：

```csharp
using System;
Console.WriteLine("Hello World!"); // 输出语句
```


# 基本语法

## 数据类型

此处仅讲解值类型

在学习初期我们会见到的值类型如下:

| 类型   | 描述                | 范围                                                         | 默认值  |
| ------ | ------------------- | ------------------------------------------------------------ | ------- |
| bool   | 布尔值              | `true` 或 `false`                                            | `false` |
| char   | 16 位 Unicode 字符  | U +0000 到 U +ffff                                           | '\0'    |
| double | 64 位双精度浮点型   | (+/-)5.0 x 10^-324 到 (+/-)1.7 x 10^308                      | 0.0D    |
| int    | 32 位有符号整数类型 | -2,147,483,648 到 2,147,483,647<br />(约±20亿)               | 0       |
| long   | 64 位有符号整数类型 | -9,223,372,036,854,775,808 到 9,223,372,036,854,775,807<br />(约±9e18) | 0L      |


## 变量的声明和定义

在 `python` 中, 声明变量前不需说明类型, 例如:

```python
a = 5
print(a)
```

但在 `c#` 中需要显示指明类型应写为这样:

```csharp
int a = 5; // 此后省略 using System;
Console.WriteLine(a);
```

另一点是 `C#` 中一个变量的类型在声明时已经固定, 不能赋其他的值

在 `python` 中, 这样的代码是合法的:
```python
a = 5
print(a)
a = "abc"
print(a)
```

但在 `C#` 中会报错:

{% note danger flat %}
错误	CS0029	无法将类型“string”隐式转换为“int”
{% endnote %}

## 标准输入输出

`C#` 中的函数名一般比较直观，容易从字面看出意思。例如： 

```csharp
Console.Write("hello "); // 输出到控制台(无换行)
Console.WriteLine("world"); // 输出到控制台(有换行)
```

上面的代码输出如下:
{% note default flat %}
hello world
{% endnote %}

与 `WriteLine()` 相对应, 从标准输入流读入下一行字符并存储为字符串的函数叫 `ReadLine()`

```csharp
String a;
a = Console.ReadLine();
Console.WriteLine(a);
```

## 运算符

`C#` 中的算术/比较/赋值运算符与 `python` 基本相同, 因此不在此列出, 可前往[菜鸟教程](https://www.runoob.com/csharp/csharp-operators.html)自行阅读, 但有几点需要注意:

{% note danger flat %}
1. 不能把表达式写成形如 `a <= x <= b` 的形式, 应该写为 `a <= x && x <= b` 

2. `C#` 中的 `/` 在两个操作数中有一个是浮点数时才会为实数除法, 否则会向 `0` 取整, 例如: `-5/2` 的结果是 `-2`, `-5/2.0` 的结果是 `-2.5`

3. `C#` 中没有 `**` `//` 等运算符

  {% endnote %}

另外, `C#` 中还有 `++` 运算符, `a++` 基本相当于 `a += 1` [^4], `--`运算符同理

`C#` 中的逻辑运算符如下(A = true, B = false):

| 运算符 | 描述                                                         | 实例              | python |
| :----- | :----------------------------------------------------------- | :---------------- | ------ |
| &&     | 称为逻辑与运算符。如果两个操作数都非零，则条件为真。         | (A && B) 为假。   | and    |
| &#124;&#124; | 称为逻辑或运算符。如果两个操作数中有任意一个非零，则条件为真。 | (A &#124;&#124; B) 为真。 | or     |
| !      | 称为逻辑非运算符。用来逆转操作数的逻辑状态。如果条件为真则变为假。 | !(A && B) 为真。  | not    |

## `if()`语句

`if()` 语句的条件要在小括号里, 如果条件表达式为 `true` 的时候执行的语句在大括号里(或者说大括号包裹的部分为一个代码块, 执行整个代码块), 例如:

```csharp
int score = 0;
if(score == 0)
{
    Console.WriteLine("我爆零了");
}
```

# 练习:

## 1-1 直角三角形
已知三条边的长度(分三行给出), 判断是否为直角三角形, 若是则输出 `yes`, 否则输出 `no`

### 1-1-2

若为直角三角形输出 `yes`, 否则若能够构成三角形输出 `no`, 不能构成三角形输出 `not a triangle`

## 1-2 三排序

输入三个整数, 按从小到大排序后输出

---

[^1]: 来自[维基百科](https://zh.wikipedia.org/wiki/C%E2%99%AF)
[^2]: 这种类似 `python` 的代码是 `.net5.0` 中的新特性：顶级语句。这样的程序在 `.net5.0运行时` 是可以通过编译并正常运行的。
[^3]: 其学名为成员访问运算符
[^4]: 其实 `a++` 与 `++a` 放在表达式里有些区别, 因此在没弄清楚前不要写诸如 `b = a++;` 这种式子 