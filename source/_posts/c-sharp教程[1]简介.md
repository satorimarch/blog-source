---
title: C#教程[1] 简介
date: 2021-11-23 
tags: 
  - c#
categories:
  - 电子电路社
  - c#教程
cover: https://s6.jpg.cm/2021/11/28/LLO4yG.jpg
---

# 前言

本系列教程是为了我在学校社团课使用而随手写的，因此可能有很多随意或不严谨的地方，而且随时有可能停更，请见谅。
因为高一学校的信息课学习 `pyhton`，因此默认读者有微弱的 `pyhton` 基础，故基础语法可能会讲的稍微快一些而且会与 `pyhton` 的语法进行比较。

# 简介

> C#是微软推出的一种基于.NET框架的、面向对象的高级编程语言。C#是一种由C和C++派生出来的面向对象的编程语言。它在继承C和C++强大功能的同时去掉了一些它们的复杂特性，使其成为C语言家族中的一种高效强大的编程语言。C#以.NET框架类库作为基础，拥有类似Visual Basic的快速开发能力。C#由安德斯·海尔斯伯格主持开发，微软在2000年发布了这种语言，希望借助这种语言来取代Java。[^1]

---

# 第一个 `C#` 程序

大家先来看一个在VS2019里新建C#控制台应用生成的默认程序（代码中的 `//` 表示单行注释）：

```csharp
using System;

namespace ConsoleApp // ConsoleApp为命名空间(namespace)
{
    class Program // Program是一个"类"(class)
    {
        static void Main(string[] args) // Main方法
        {
            Console.WriteLine("Hello World!"); // 输出语句
        }
    }
}
```

## 程序结构

下面引用自菜鸟教程的内容大家扫一眼即可，我会在后面再进行说明。

> 让我们看一下上面程序的各个部分：
>
> - 程序的第一行 **using System;** - **using** 关键字用于在程序中包含 **System** 命名空间。 一个程序一般有多个 **using** 语句。
> - 下一行是 **namespace** 声明。一个 **namespace** 里包含了一系列的类。命名空间包含了类 *Program*。
> - 下一行是 **class** 声明。类 *Program* 包含了程序使用的数据和方法声明。类一般包含多个方法。方法定义了类的行为。在这里，*Program* 类只有一个 **Main** 方法。
> - 下一行定义了 **Main** 方法，是所有 C# 程序的 **入口点**。**Main** 方法说明当执行时 类将做什么动作。
> - Main 方法通过语句`Console.WriteLine("Hello World!");` 指定了它的行为。
>   *WriteLine* 是一个定义在 *System* 命名空间中的 *Console* 类的一个方法。该语句会在屏幕上显示消息 "Hello World!"。
> - 最后一行 **`Console.ReadKey();`** 是针对 VS.NET 用户的。这使得程序会等待一个按键的动作，防止程序从 Visual Studio .NET 启动时屏幕会快速运行并关闭。

大家可能会觉得，这样比在 `python` 中输出 `"hello world"` 要繁琐很多，这样的设计看似没有必要，但实际上在大型的项目里能展现出它的优势[^2]

简单的来说，命名空间包含类，类包含方法。

大家目前只需要注意一下 `Program` 类和 `Main` 方法。
在 `C#` 中方法的概念与其他语言中函数的意思区别不大，大家可以理解成函数。
而类的真正概念我们会在以后再讲。

 `Main` 方法被包含在 `Program` 类中，而我们的程序总会从 `Main` 方法开始执行。

 在语句 `Console.WriteLine("Hello World!");` 中, `Console`也是一个类，而 `WriteLine()` 则为 `Console` 类中的一个方法，中间的 `.` 表示访问 `Console` 类中的成员[^3]，此处访问的即为该类中的`WriteLine()` 方法。

 方法的后面必须有括号，即使它没有参数。

大家可以注意到一个有意思的现象，我们的 `Main` 方法也是被包含在一个类中的。事实上，在 `C#` 中方法的声明一定在一个类的内部。

因为我们目前只看主函数部分，所以以后会将上面那段代码写成如下的形式：

```csharp
using System;
Console.WriteLine("Hello World!"); // 输出语句
```

这种类似 `python` 的代码是 `.net5.0` 中的新特性：顶级语句。这样的程序在 `.net5.0运行时` 是可以通过编译并正常运行的。

# 基本语法

## 数据类型

此处仅讲解值类型

在学习初期我们会见到的值类型如下:

| 类型    | 描述                                 | 范围                                                         | 默认值  |
| ------- | ------------------------------------ | ------------------------------------------------------------ | ------- |
| bool    | 布尔值                               | `true` 或 `false`                                            | `false` |
| char    | 16 位 Unicode 字符                   | U +0000 到 U +ffff                                           | '\0'    |
| decimal | 128 位精确的十进制值，28-29 有效位数 | (-7.9 x 1028 到 7.9 x 1028) / 100 到 28                      | 0.0M    |
| double  | 64 位双精度浮点型                    | (+/-)5.0 x 10-324 到 (+/-)1.7 x 10308                        | 0.0D    |
| float   | 32 位单精度浮点型                    | -3.4 x 1038 到 + 3.4 x 1038                                  | 0.0F    |
| int     | 32 位有符号整数类型                  | -2,147,483,648 到 2,147,483,647<br />(约±20亿)               | 0       |
| long    | 64 位有符号整数类型                  | -9,223,372,036,854,775,808 到 9,223,372,036,854,775,807<br />(约±9e18) | 0L      |

其中 `decimal`, `double`, `float`都是浮点数(可以大概理解为能存有理数), 但是他们的精度不一样(依次递减). 一般情况下不用 `float`, 使用 `double`, 在非常精细的运算 (比如涉及到钱) 的时候建议使用 `decimal`

## 变量的声明和定义

在 `pyhton` 中, 声明变量前不需说明类型, 例如:

```python
a = 5
print(a)
```

但在 `c#` 中需要显示指明类型应写为这样:

```csharp
int a = 5; // 此后省略 using System;
Console.WriteLine(a);
```

从 C# 3.0 开始，在方法范围内声明[^4]的变量可以具有隐式类型`var`, 例如: `var a = 5;`

{% note danger flat %}
一定要注意使用 `var` 必须要在定义的时候初始化, 像 `var a;` 是 {% label 不合法 red %} 的
{% endnote %}

另一点是 `C#` 中一个变量的类型在声明时已经固定, 不能赋其他的值

在 `python` 中, 这样的代码是合法的:
```python
a = 5
print(a)
a = "abc"
print(a)
```

但在 `C#` 中会报错:

{% note danger flat %}
错误	CS0029	无法将类型“string”隐式转换为“int”
{% endnote %}

## 标准输入输出

`C#` 中的方法名一般比较直观，容易从字面看出意思。例如： 

```csharp
Console.Write("hello "); // 输出到控制台(无换行)
Console.WriteLine("world"); // 输出到控制台(有换行)
```

上面的代码输出如下:
{% note default flat %}
hello world
{% endnote %}

与 `WriteLine()` 相对应, 从标准输入流读入下一行字符并存储为字符串的方法叫 `ReadLine()`

```csharp
String a;
a = Console.ReadLine();
Console.WriteLine(a);
```

## 运算符

`C#` 中的算术/比较/赋值运算符与 `pyhton` 基本相同, 因此不在此列出, 可前往[菜鸟教程](https://www.runoob.com/csharp/csharp-operators.html)自行阅读, 但有几点需要注意:

{% note danger flat %}
1. 不能把表达式写成形如 `a <= x <= b` 的形式, 应该写为 `a <= x && x <= b` 
2. `C#` 中的 `/` 在两个操作数中有一个是浮点数时才会为实数除法, 否则会向 `0` 取整, 例如: `-5/2` 的结果是 `-2`, `-5/2.0` 的结果是 `-2.5`
3. `C#` 中没有 `**` `//` 等运算符
{% endnote %}

另外, `C#` 中还有 `++` 运算符, `a++` 基本相当于 `a += 1` [^5], `--`运算符同理

`C#` 中的逻辑运算符如下(A = true, B = false):

| 运算符 | 描述                                                         | 实例              | python |
| :----- | :----------------------------------------------------------- | :---------------- | ------ |
| &&     | 称为逻辑与运算符。如果两个操作数都非零，则条件为真。         | (A && B) 为假。   | and    |
| &#124;&#124; | 称为逻辑或运算符。如果两个操作数中有任意一个非零，则条件为真。 | (A &#124;&#124; B) 为真。 | or     |
| !      | 称为逻辑非运算符。用来逆转操作数的逻辑状态。如果条件为真则变为假。 | !(A && B) 为真。  | not    |

## `if()`语句

if()语句的条件要在小括号里, 如果条件表达式为 `true` 的时候执行的语句在大括号里(或者说大括号包裹的部分为一个代码块, 执行整个代码块), 例如:

```csharp
int score = 0;
if(score == 0)
{
    Console.WriteLine("我爆零了");
}
```

当要执行的语句只有一个的时候可以不写大括号, 上面的 `if()` 语句可以写成:

```csharp
if(score == 0) Console.WriteLine("我爆零了");
```

# 练习:

## 1-1 直角三角形
已知三条边的长度(分三行给出), 判断是否为直角三角形, 若是则输出 `yes`, 否则输出 `no`

### 1-1-2

若为直角三角形输出 `yes`, 否则若能够构成三角形输出 `no`, 不能构成三角形输出 `not a triangle`

## 1-2 三排序

输入三个整数, 按从小到大排序后输出


---

[^1]: 来自[维基百科](https://zh.wikipedia.org/wiki/C%E2%99%AF)
[^2]: 这样的设计是基于一种叫做面向对象(OOP)的编程思想，C#和Java都是面向对象的编程语言，pyhton也支持面向对象
[^3]: 其学名为成员访问运算符
[^4]: 使用 `var` 定义的必须是局部变量
[^5]: 其实 `a++` 与 `++a` 放在表达式里有些区别, 因此在没弄清楚前不要写诸如 `b = a++;` 这种式子 